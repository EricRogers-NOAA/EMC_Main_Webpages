<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>NCEPLIBS-bufr: copysb.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-bufr
   &#160;<span id="projectnumber">11.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('copysb_8f.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">copysb.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="copysb_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a069b655003f8b71b2f29aa5d9f451a33"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="copysb_8f.html#a069b655003f8b71b2f29aa5d9f451a33">copysb</a> (LUNIN, LUNOT, IRET)</td></tr>
<tr class="memdesc:a069b655003f8b71b2f29aa5d9f451a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine copies a packed data subset, intact, from logical unit lunin, opened for input via a previous call to bufr archive library subroutine openbf, to logical unit lunot, opened for output via a previous call to openbf.  <a href="#a069b655003f8b71b2f29aa5d9f451a33">More...</a><br/></td></tr>
<tr class="separator:a069b655003f8b71b2f29aa5d9f451a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>WOOLLEN </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p>Definition in file <a class="el" href="copysb_8f_source.html">copysb.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="a069b655003f8b71b2f29aa5d9f451a33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine copysb </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNIN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNOT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine copies a packed data subset, intact, from logical unit lunin, opened for input via a previous call to bufr archive library subroutine openbf, to logical unit lunot, opened for output via a previous call to openbf. </p>
<p>The bufr message must have been previously read from unit lunit using bufr archive library subroutine readmg or readerme and may be either compressed or uncompressed. Also, bufr archive library subroutine openmg or openmb must have been previously called to open and initialize a bufr message within memory for unit lunot. Each call to copysb advances the pointer to the beginning of the next subset in both the input and output files, unless input parameter lunot is .le. zero, in which case the output pointer is not advanced. The compression status of the output subset/bufr message will always match that of the input subset/bufr message {i.e., if input message is uncompressed(compressed) output message will be uncompressed (compressed)}.</p>
<p>PROGRAM HISTORY LOG: -1994-01-06 J. WOOLLEN &ndash; ORIGINAL AUTHOR -1998-07-08 J. WOOLLEN &ndash; REPLACED CALL TO CRAY LIBRARY ROUTINE "ABORT" WITH CALL TO NEW INTERNAL BUFRLIB ROUTINE "BORT" -1999-11-18 J. WOOLLEN &ndash; THE NUMBER OF BUFR FILES WHICH CAN BE OPENED AT ONE TIME INCREASED FROM 10 TO 32 (NECESSARY IN ORDER TO PROCESS MULTIPLE BUFR FILES UNDER THE MPI) -2000-09-19 J. WOOLLEN &ndash; MAXIMUM MESSAGE LENGTH INCREASED FROM 10,000 TO 20,000 BYTES -2002-05-14 J. WOOLLEN &ndash; REMOVED OLD CRAY COMPILER DIRECTIVES -2003-11-04 S. BENDER &ndash; ADDED REMARKS/BUFRLIB ROUTINE INTERDEPENDENCIES -2003-11-04 D. KEYSER &ndash; UNIFIED/PORTABLE FOR WRF; ADDED DOCUMENTATION (INCLUDING HISTORY); OUTPUTS MORE COMPLETE DIAGNOSTIC INFO WHEN ROUTINE TERMINATES ABNORMALLY -2004-08-09 J. ATOR &ndash; MAXIMUM MESSAGE LENGTH INCREASED FROM 20,000 TO 50,000 BYTES -2005-09-16 J. WOOLLEN &ndash; NOW WRITES OUT COMPRESSED SUBSET/MESSAGE IF INPUT SUBSET/MESSAGE IS COMPRESSED (BEFORE COULD ONLY WRITE OUT UNCOMPRESSED SUBSET/ MESSAGE REGARDLESS OF COMPRESSION STATUS OF INPUT SUBSET/MESSAGE) -2009-06-26 J. ATOR &ndash; USE IOK2CPY -2014-11-03 J. ATOR &ndash; HANDLE OVERSIZED (&gt;65530 BYTE) SUBSETS -2014-12-10 J. ATOR &ndash; USE MODULES INSTEAD OF COMMON BLOCKS</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LUNIN</td><td>Fortran logical unit number for input bufr file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">LUNOT</td><td>Fortran logical unit number for output bufr file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IRET</td><td>RETURN CODE:<ul>
<li>0 = normal return</li>
<li>-1 = there are no more subsets in the input BUFR message</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>REMARKS: THIS ROUTINE CALLS: <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4" title="THIS SUBROUTINE WRITES (VIA BUFR ARCHIVE LIBRARY SUBROUTINE ERRWRT) A GIVEN ERROR STRING AND THEN CAL...">bort()</a> <a class="el" href="cmpmsg_8f.html#a75b2d1dfd1dedb519205399a8087fd56" title="THIS SUBROUTINE IS USED TO SPECIFY WHETHER OR NOT BUFR MESSAGES CREATED BY FUTURE CALLS TO EITHER OF ...">cmpmsg()</a> <a class="el" href="cpyupd_8f.html#a129651d2e47b6c8986c1fc4dd73d87c9" title="THIS SUBROUTINE COPIES A SUBSET FROM ONE MESSAGE BUFFER (ARRAY MBAY IN MODULE BITBUF) TO ANOTHER AND/...">cpyupd()</a> <a class="el" href="getlens_8f.html#a15ffcb4cde43c73327fd3afb738078e2" title="THIS SUBROUTINE UNPACKS AND RETURNS ALL OF THE INDIVIDUAL SECTION LENGTHS OF THE BUFR MESSAGE STORED ...">getlens()</a> <a class="el" href="iok2cpy_8f.html#a1072d2f1a0e3e2002dd5177ab18ec38b" title="THIS FUNCTION DETERMINES WHETHER A MESSAGE, OR A SUBSET FROM A MESSAGE, CAN BE COPIED FROM LOGICAL UN...">iok2cpy()</a> <a class="el" href="mesgbc_8f.html#a7c19b0b932b32b59a6bf5f3c8a809617" title="THIS SUBROUTINE EXAMINES A BUFR MESSAGE AND RETURNS BOTH THE MESSAGE TYPE FROM SECTION 1 AND A MESSAG...">mesgbc()</a> <a class="el" href="readsb_8f.html#ae7619346ca59d008b4d6a646408876f5" title="THIS SUBROUTINE SHOULD ONLY BE CALLED WHEN LOGICAL UNIT LUNIT HAS BEEN OPENED FOR INPUT OPERATIONS...">readsb()</a> <a class="el" href="status_8f.html#a22292e7a69c411a961168198d259f336" title="THIS SUBROUTINE CHECKS WHETHER LOGICAL UNIT NUMBER LUNIT (AND ITS ASSOCIATED BUFR FILE) IS CURRENTLY ...">status()</a> <a class="el" href="ufbcpy_8f.html#ab08f838e3d7ba8d444a383defe4e94f7" title="THIS SUBROUTINE COPIES A COMPLETE SUBSET BUFFER, UNPACKED INTO INTERNAL MEMORY FROM LOGICAL UNIT LUBI...">ufbcpy()</a> <a class="el" href="upb_8f.html#aae09b58b06877db63e95889f67c146c0" title="THIS SUBROUTINE UNPACKS AND RETURNS A BINARY INTEGER CONTAINED WITHIN NBITS BITS OF IBAY...">upb()</a> <a class="el" href="writsb_8f.html#a02b3dbd97116388430f863f3e49fa47f" title="THIS SUBROUTINE SHOULD ONLY BE CALLED WHEN LOGICAL UNIT LUNIT HAS BEEN OPENED FOR OUTPUT OPERATIONS...">writsb()</a> THIS ROUTINE IS CALLED BY: <a class="el" href="icopysb_8f.html#afb30a7a2559d17a3547dc6895655148a" title="THIS FUNCTION CALLS BUFR ARCHIVE LIBRARY SUBROUTINE COPYSB AND PASSES BACK ITS RETURN CODE...">icopysb()</a> Also called by application programs. </p>

<p>Definition at line <a class="el" href="copysb_8f_source.html#l00062">62</a> of file <a class="el" href="copysb_8f_source.html">copysb.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_30c37837910170b6dae887e9df3b66a9.html">nceplibs-bufr</a></li><li class="navelem"><a class="el" href="dir_e81fc8df062d10d5f2b231f7e4ab81b8.html">src</a></li><li class="navelem"><a class="el" href="copysb_8f.html">copysb.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
